---
title: canvas چیست ؟
sidebar_position: 1
---

# canvas چییست ؟

بوم (Canvas) ناحیه‌ای است که تمام عناصر رابط کاربری باید درون آن باشند. بوم یک شیء بازی (Game Object) است که یک کامپوننت بوم (Canvas) روی آن قرار دارد و تمام عناصر رابط کاربری (UI) باید فرزندان چنین بوم (Canvas) باشند. ایجاد یک عنصر رابط کاربری جدید، مانند یک تصویر (Image)، با استفاده از منوی GameObject > UI > Image، در صورتی که از قبل بوم (Canvas) در صحنه وجود نداشته باشد، به طور خودکار یک بوم (Canvas) ایجاد می‌کند. عنصر رابط کاربری به عنوان فرزند این بوم (Canvas) ایجاد می‌شود. ناحیه بوم به صورت یک مستطیل در نمای صحنه (Scene View) نشان داده می‌شود. این امر، قرار دادن عناصر رابط کاربری را بدون نیاز به قابل مشاهده بودن نمای بازی (Game View) در همه زمان‌ها، آسان می‌کند. بوم از شیء EventSystem برای کمک به سیستم پیام‌رسانی (Messaging System) استفاده می‌کند.

## ترتیب نمایش

عناصر رابط کاربری در Canvas به همان ترتیبی که در Hierarchy ظاهر می‌شوند، رسم می‌شوند. فرزند اول ابتدا رسم می‌شود، فرزند دوم در مرحله بعد و به همین ترتیب. اگر دو عنصر رابط کاربری همپوشانی داشته باشند، عنصر بعدی روی عنصر قبلی ظاهر می‌شود.

برای تغییر اینکه کدام عنصر روی عناصر دیگر ظاهر شود، کافیست عناصر موجود در Hierarchy را با کشیدن آنها دوباره مرتب کنید. این ترتیب را می‌توان با استفاده از این متدها در کامپوننت Transform از طریق اسکریپت‌نویسی نیز کنترل کرد: SetAsFirstSibling، SetAsLastSibling و SetSiblingIndex.

## حالت های render

به طور کلی دو حالت رندر در این کاپوننت برای canvas وجود دارد
screen space و world space

:::caution
در علوم کامپیوتر، واژه‌ی Render (رِندِر) به معنی "پردازش و نمایش نهایی" محتوا (تصویر، ویدیو، صفحه‌ی وب، گرافیک بازی و غیره) بر روی خروجی است.
:::


### Screen Space - Overlay
فضای صفحه - روکش (Screen Space - Overlay)

ترجمه


این حالت رندر، عناصر UI را روی صفحه‌نمایش قرار می‌دهد به طوری که روی تمام محتوای صحنه (بازی) کشیده می‌شوند. اگر اندازه صفحه تغییر کند یا رزولوشن آن عوض شود، Canvas نیز به طور خودکار اندازه خود را برای مطابقت با آن تغییر خواهد داد.

توضیحات

این حالت، حالت پیش‌فرض و استاندارد برای ساخت UI در یونیتی است و درک آن بسیار ساده است. بیایید ویژگی‌های کلیدی آن را بررسی کنیم:

۱. رندر شدن در لایه نهایی (On top of the scene)

این مهم‌ترین ویژگی این حالت است. تصور کنید دوربین بازی شما ابتدا تمام دنیای سه‌بعدی (شخصیت‌ها، محیط و...) را رندر می‌کند و یک تصویر کامل می‌سازد. سپس، در یک مرحله کاملاً جداگانه و نهایی، یونیتی کل UI شما را روی آن تصویر "می‌چسباند" یا "روکش" می‌کند.

نتیجه عملی: عناصر UI در این حالت هرگز توسط یک شیء سه‌بعدی در بازی پوشانده نمی‌شوند. حتی اگر شخصیت بازی شما جلوی دوربین بیاید، نوار سلامتی شما همچنان روی آن نمایش داده می‌شود.

۲. عدم وابستگی به دوربین (Independent of Camera)

از آنجایی که UI در یک لایه کاملاً جداگانه و بعد از دوربین رندر می‌شود، موقعیت و زاویه دوربین بازی هیچ تأثیری بر آن ندارد.

مهم نیست دوربین به کجا نگاه می‌کند یا چقدر زوم کرده است؛ دکمه "توقف" (Pause) شما همیشه در گوشه بالا-راست صفحه نمایش باقی می‌ماند، نه در گوشه بالا-راست دنیای بازی.

۳. تطبیق خودکار با اندازه صفحه

این همان چیزی است که متن به آن اشاره می‌کند. ابعاد Rect Transform خودِ Canvas (بر حسب پیکسل) همیشه با رزولوشن فعلی پنجره بازی یا صفحه نمایش شما یکسان خواهد بود.

اگر کاربر پنجره بازی را از 800x600 پیکسل به 1920x1080 پیکسل تغییر اندازه دهد، ابعاد Canvas شما نیز فوراً به 1920x1080 تغییر می‌کند. این رفتار، پایه و اساس کار کردن انکرها (Anchors) و کامپوننت Canvas Scaler است تا بتوانند UI را متناسب با اندازه جدید صفحه، مجدداً مرتب‌سازی یا مقیاس‌دهی کنند.

چه زمانی از این حالت استفاده کنیم؟

این حالت برای ۹۹٪ از نیازهای استاندارد UI بهترین گزینه است. به خصوص برای:

HUD (Heads-Up Display): نمایش اطلاعات حیاتی بازی مانند نوار سلامتی، تعداد گلوله، امتیاز، نقشه کوچک و غیره.

منوها: منوی اصلی، منوی توقف، صفحه تنظیمات، فروشگاه داخل بازی.

پیام‌ها و اعلان‌ها: هر نوع پنجره پاپ‌آپ یا پیامی که باید روی همه چیز نمایش داده شود.

یک تشبیه ساده:
حالت Screen Space - Overlay را مانند شیشه پنجره اتاق خود در نظر بگیرید. دنیای سه‌بعدی بازی، منظره بیرون از پنجره است. عناصر UI شما، برچسب‌هایی هستند که مستقیماً روی شیشه چسبانده‌اید. مهم نیست بیرون چه اتفاقی می‌افتد، این برچسب‌ها همیشه روی شیشه و جلوی دید شما قرار دارند.

### Screen Space - Camera
حتماً. این بخش حالت رندر دوم، یعنی Screen Space - Camera را معرفی می‌کند که یک حالت میانی و بسیار قدرتمند است.

ترجمه

این حالت شبیه به Screen Space - Overlay است، اما در این حالت رندر، Canvas در یک فاصله مشخص در جلوی یک دوربین تعیین‌شده قرار می‌گیرد. عناصر UI توسط این دوربین رندر می‌شوند، که به این معناست که تنظیمات دوربین بر ظاهر UI تأثیر می‌گذارد. اگر دوربین روی حالت پرسپکتیو (Perspective) تنظیم شده باشد، عناصر UI نیز با پرسپکتیو رندر خواهند شد و میزان اعوجاج پرسپکتیو را می‌توان با میدان دید دوربین (Camera Field of View) کنترل کرد. اگر اندازه صفحه تغییر کند، رزولوشن عوض شود یا هرم دید دوربین (camera frustum) تغییر کند، Canvas نیز به طور خودکار اندازه خود را برای مطابقت با آن تغییر خواهد داد.

توضیحات

این حالت یک ترکیب هوشمندانه بین سادگی حالت Overlay و قدرت حالت World Space (که بعداً خواهید دید) است. بیایید تفاوت‌ها و شباهت‌های کلیدی آن را با حالت Overlay بررسی کنیم:

تفاوت‌های اصلی با Screen Space - Overlay:

وابستگی به دوربین مشخص:

برخلاف حالت Overlay که کاملاً مستقل بود، در این حالت شما باید یک دوربین مشخص از صحنه خود را به فیلد "Render Camera" در کامپوننت Canvas اختصاص دهید. شما به یونیتی می‌گویید: "این UI را با استفاده از این دوربین خاص رندر کن".

قرار گرفتن در فاصله مشخص از دوربین:

یک فیلد جدید به نام "Plane Distance" ظاهر می‌شود. این فیلد مشخص می‌کند که صفحه نامرئی Canvas شما چند واحد (متر) در جلوی لنز دوربین قرار بگیرد. این مثل این است که یک صفحه شیشه‌ای را در فاصله مثلاً ۵ متری جلوی دوربین نگه دارید و UI خود را روی آن نقاشی کنید.

تأثیرپذیری از تنظیمات دوربین (این مهم‌ترین نکته است):

پرسپکتیو: اگر دوربین شما در حالت Perspective باشد (که برای بازی‌های سه‌بعدی رایج است)، UI شما هم دارای عمق و پرسپکتیو خواهد بود. عناصری که در مرکز صفحه هستند کمی بزرگتر از عناصری که در لبه‌های صفحه قرار دارند به نظر می‌رسند. این می‌تواند یک افکت سه‌بعدی ظریف و زیبا به منوهای شما بدهد.

پست-پراسسینگ (Post-Processing): اگر روی دوربین شما افکت‌هایی مانند Blur (تاری)، Bloom (درخشش) یا Color Grading (تنظیم رنگ) اعمال شده باشد، این افکت‌ها روی UI شما نیز اعمال خواهند شد. این یک مزیت بزرگ است. برای مثال، وقتی بازی را متوقف می‌کنید، می‌توانید با یک افکت Blur هم دنیای بازی و هم UI را تار کنید تا تمرکز روی پنجره "Pause" قرار گیرد. در حالت Overlay این کار ممکن نیست.

میدان دید (Field of View): تغییر FOV دوربین، میزان اعوجاج پرسپکتیو روی UI را تغییر می‌دهد.

شباهت‌های اصلی با Screen Space - Overlay:

همچنان تمام صفحه را پر می‌کند: با وجود اینکه به یک دوربین وابسته است، هدف اصلی آن هنوز پوشاندن کل دید دوربین است.

همچنان واکنش‌گرا است: همانطور که در متن ذکر شد، اگر اندازه صفحه یا رزولوشن تغییر کند، Canvas به طور خودکار اندازه خود را تطبیق می‌دهد تا همچنان کل دید دوربین را پر کند. انکرها و Canvas Scaler همچنان به همان شکل کار می‌کنند.

چه زمانی از این حالت استفاده کنیم؟

وقتی می‌خواهید افکت‌های Post-Processing (مانند Blur) روی UI شما نیز اعمال شوند. این رایج‌ترین دلیل استفاده از این حالت است.

وقتی می‌خواهید یک حس عمق و پرسپکتیو جزئی به منوهای خود بدهید تا از حالت کاملاً تخت خارج شوند.

وقتی نیاز دارید که یک شیء سه‌بعدی (مثلاً یک مدل سه‌بعدی از یک آیتم) را بین دوربین و UI خود قرار دهید تا به نظر برسد که بخشی از رابط کاربری است.

یک تشبیه ساده:

Screen Space - Overlay مانند برچسبی است که روی عینک خود می‌چسبانید. همیشه جلوی چشم شماست.

Screen Space - Camera مانند صفحه نمایش روی شیشه جلوی اتومبیل (HUD) است. این صفحه بخشی از دید شما از طریق شیشه است و اگر شیشه بارانی یا کثیف شود، نمایشگر HUD هم تار دیده می‌شود.


:::tip
کی بعد از دوربین چسبانده میشه و یکی جلوی دوربین چسبانده میشه.
:::


### World Space

بسیار خب. این بخش آخرین و شاید خلاقانه‌ترین حالت رندر Canvas را معرفی می‌کند: فضای جهان (World Space).

ترجمه

در این حالت رندر، Canvas مانند هر شیء دیگری در صحنه رفتار خواهد کرد. اندازه Canvas را می‌توان به صورت دستی با استفاده از Rect Transform آن تنظیم کرد و عناصر UI بر اساس موقعیت سه‌بعدی، جلوی اشیاء دیگر در صحنه یا پشت آن‌ها رندر خواهند شد. این حالت برای رابط‌های کاربری که قرار است بخشی از دنیای بازی باشند، مفید است. این حالت همچنین به عنوان «رابط کاربری دایجتیک» (diegetic interface) نیز شناخته می‌شود.

توضیحات

این حالت کاملاً با دو حالت قبلی متفاوت است و به شما اجازه می‌دهد تا UI را به یک عنصر واقعی و فیزیکی در دنیای بازی خود تبدیل کنید.

ویژگی‌های کلیدی World Space:

یک شیء معمولی در صحنه:

یک Canvas در حالت World Space دیگر یک روکش روی صفحه نیست. بلکه یک شیء سه‌بعدی واقعی است که دارای موقعیت (Position)، چرخش (Rotation) و مقیاس (Scale) در دنیای بازی است. شما می‌توانید آن را مانند یک مکعب یا یک کره در هر جای صحنه قرار دهید.

اندازه دستی و ثابت در واحد جهان (World Units):

مهم‌ترین تفاوت: این Canvas به طور خودکار با اندازه صفحه نمایش تغییر نمی‌کند.

مقادیر Width و Height در Rect Transform آن، اندازه Canvas را بر حسب واحدهای جهان (متر) مشخص می‌کنند. اگر یک Canvas با Width = 5 و Height = 3 بسازید، شما یک صفحه به ابعاد فیزیکی ۵ متر در ۳ متر در دنیای بازی خود ایجاد کرده‌اید.

رندر شدن بر اساس عمق و موقعیت سه‌بعدی:

این Canvas از قوانین عادی رندر سه‌بعدی پیروی می‌کند. اگر آن را پشت یک دیوار قرار دهید، دیده نخواهد شد. اگر یک شخصیت از جلوی آن عبور کند، شخصیت، بخشی از Canvas را می‌پوشاند. عناصر UI شما کاملاً در تعامل با سایر اشیاء صحنه هستند.

نورپردازی صحنه (Lighting) می‌تواند روی آن تأثیر بگذارد.

مفهوم کلیدی: رابط کاربری دایجتیک (Diegetic Interface)

این یک اصطلاح از فیلم‌سازی و نظریه بازی است و درک آن، دلیل وجود حالت World Space را روشن می‌کند.

رابط کاربری غیردایجتیک (Non-Diegetic): رابطی است که فقط برای بازیکن (مخاطب) وجود دارد و شخصیت‌های داخل بازی از وجود آن بی‌خبرند.

مثال: نوار سلامتی در گوشه بالای صفحه، تعداد گلوله‌ها، امتیاز، منوی Pause. اینها همان‌هایی هستند که با Screen Space - Overlay و Screen Space - Camera ساخته می‌شوند.

رابط کاربری دایجتیک (Diegetic): رابطی است که به عنوان یک شیء واقعی درون دنیای داستان وجود دارد و شخصیت‌های بازی نیز می‌توانند آن را ببینند و با آن تعامل کنند.

مثال:

صفحه نمایش یک کامپیوتر در بازی که بازیکن باید از آن برای هک کردن استفاده کند.

یک نوار سلامتی که بالای سر دشمنان شناور است.

تعداد گلوله‌های باقی‌مانده که روی یک نمایشگر کوچک روی خود اسلحه نمایش داده می‌شود (مانند بازی Dead Space).

یک نقشه که روی یک میز در بازی پهن شده است.

چه زمانی از World Space استفاده کنیم؟

این حالت برای افزایش غوطه‌وری (Immersion) بازیکن در دنیای بازی فوق‌العاده است. از آن برای ساخت موارد زیر استفاده کنید:

نمایشگرها و ترمینال‌های تعاملی در محیط بازی.

نوار سلامتی یا نام بازیکنان که بالای سرشان شناور است.

برچسب‌ها یا اطلاعاتی که روی اشیاء در جهان بازی نمایش داده می‌شوند.

هر نوع UI که می‌خواهید بخشی از فیزیک و محیط بازی باشد، مانند یک بیلبورد تبلیغاتی در یک شهر.

کاربردهای واقعیت مجازی (VR) و واقعیت افزوده (AR) که در آنها UI باید در فضای سه‌بعدی واقعی قرار گیرد.

یک تشبیه نهایی برای سه حالت:

Screen Space - Overlay: برچسبی روی شیشه عینک شما.

Screen Space - Camera: نمایشگر HUD روی شیشه جلوی یک جت جنگی.

World Space: یک بیلبورد تبلیغاتی در کنار جاده.