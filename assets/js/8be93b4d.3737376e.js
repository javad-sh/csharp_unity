"use strict";(self.webpackChunkc_docs=self.webpackChunkc_docs||[]).push([[4680],{4020:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>j,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"useJsonInCS","title":"\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 json \u062f\u0631 \u0633\u06cc \u0634\u0627\u0631\u067e","description":"\u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 json \u062f\u0631 \u0633\u06cc \u0634\u0627\u0631\u067e \u0628\u0647\u062a\u0631\u06cc\u0646 \u0631\u0648\u0634 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 Newtonsoft.Json \u0627\u0633\u062a","source":"@site/docs/useJsonInCS.md","sourceDirName":".","slug":"/useJsonInCS","permalink":"/csharp_unity/docs/useJsonInCS","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/useJsonInCS.md","tags":[],"version":"current","sidebarPosition":21,"frontMatter":{"title":"\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 json \u062f\u0631 \u0633\u06cc \u0634\u0627\u0631\u067e","sidebar_position":21},"sidebar":"tutorialSidebar","previous":{"title":"var \u062f\u0631 \u0633\u06cc \u0634\u0627\u0631\u067e","permalink":"/csharp_unity/docs/var"},"next":{"title":"\u0633\u0648\u0627\u0644\u0627\u062a","permalink":"/csharp_unity/docs/ques"}}');var t=s(4848),d=s(8453);const i={title:"\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 json \u062f\u0631 \u0633\u06cc \u0634\u0627\u0631\u067e",sidebar_position:21},l=void 0,c={},o=[{value:"\u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 json \u062f\u0631 \u0633\u06cc \u0634\u0627\u0631\u067e \u0628\u0647\u062a\u0631\u06cc\u0646 \u0631\u0648\u0634 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 Newtonsoft.Json \u0627\u0633\u062a",id:"\u0628\u0631\u0627\u06cc-\u0627\u0633\u062a\u0641\u0627\u062f\u0647-\u0627\u0632-json-\u062f\u0631-\u0633\u06cc-\u0634\u0627\u0631\u067e-\u0628\u0647\u062a\u0631\u06cc\u0646-\u0631\u0648\u0634-\u0627\u0633\u062a\u0641\u0627\u062f\u0647-\u0627\u0632-newtonsoftjson-\u0627\u0633\u062a",level:2},{value:"\u0645\u0642\u062f\u0645\u0647",id:"\u0645\u0642\u062f\u0645\u0647",level:2},{value:"\u0646\u0635\u0628 \u0648 \u0627\u0648\u0644\u06cc\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647",id:"\u0646\u0635\u0628-\u0648-\u0627\u0648\u0644\u06cc\u0646-\u0627\u0633\u062a\u0641\u0627\u062f\u0647",level:2},{value:"\u062c\u062f\u0648\u0644 \u06a9\u0644\u06cc\u062f\u06cc\u200c\u062a\u0631\u06cc\u0646 \u06a9\u0644\u0627\u0633\u200c\u0647\u0627 \u0648 \u0645\u062a\u062f\u0647\u0627",id:"\u062c\u062f\u0648\u0644-\u06a9\u0644\u06cc\u062f\u06cc\u062a\u0631\u06cc\u0646-\u06a9\u0644\u0627\u0633\u0647\u0627-\u0648-\u0645\u062a\u062f\u0647\u0627",level:2},{value:"\u0648\u06cc\u0698\u06af\u06cc\u200c\u0647\u0627 \u0648 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a (Attributes/Settings)",id:"\u0648\u06cc\u0698\u06af\u06cc\u0647\u0627-\u0648-\u062a\u0646\u0638\u06cc\u0645\u0627\u062a-attributessettings",level:2},{value:"\u06a9\u0627\u0631 \u0628\u0627 \u0622\u0631\u0627\u06cc\u0647\u200c\u0647\u0627 \u0648 \u0644\u06cc\u0633\u062a\u200c\u0647\u0627",id:"\u06a9\u0627\u0631-\u0628\u0627-\u0622\u0631\u0627\u06cc\u0647\u0647\u0627-\u0648-\u0644\u06cc\u0633\u062a\u0647\u0627",level:2},{value:"LINQ to JSON (JPath)",id:"linq-to-json-jpath",level:2},{value:"\u06a9\u0627\u0646\u0648\u0631\u062a\u0631 \u0633\u0641\u0627\u0631\u0634\u06cc (\u0646\u0645\u0648\u0646\u0647\u0654 \u06cc\u0648\u0646\u06cc\u062a\u06cc)",id:"\u06a9\u0627\u0646\u0648\u0631\u062a\u0631-\u0633\u0641\u0627\u0631\u0634\u06cc-\u0646\u0645\u0648\u0646\u0647\u0654-\u06cc\u0648\u0646\u06cc\u062a\u06cc",level:2},{value:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u062e\u0637\u0627",id:"\u0645\u062f\u06cc\u0631\u06cc\u062a-\u062e\u0637\u0627",level:2},{value:"\u0628\u0647\u06cc\u0646\u0647\u200c\u0633\u0627\u0632\u06cc\u200c\u0647\u0627\u06cc \u0633\u0631\u0639\u062a \u0648 \u062d\u0627\u0641\u0638\u0647",id:"\u0628\u0647\u06cc\u0646\u0647\u0633\u0627\u0632\u06cc\u0647\u0627\u06cc-\u0633\u0631\u0639\u062a-\u0648-\u062d\u0627\u0641\u0638\u0647",level:2},{value:"\u0645\u0642\u0627\u06cc\u0633\u0647\u0654 \u0633\u0631\u06cc\u0639 \u0628\u0627 \u200e<code>System.Text.Json</code>\u200e",id:"\u0645\u0642\u0627\u06cc\u0633\u0647\u0654-\u0633\u0631\u06cc\u0639-\u0628\u0627-systemtextjson",level:2},{value:"\u062c\u0645\u0639\u200c\u0628\u0646\u062f\u06cc",id:"\u062c\u0645\u0639\u0628\u0646\u062f\u06cc",level:2}];function h(e){const n={code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"\u0628\u0631\u0627\u06cc-\u0627\u0633\u062a\u0641\u0627\u062f\u0647-\u0627\u0632-json-\u062f\u0631-\u0633\u06cc-\u0634\u0627\u0631\u067e-\u0628\u0647\u062a\u0631\u06cc\u0646-\u0631\u0648\u0634-\u0627\u0633\u062a\u0641\u0627\u062f\u0647-\u0627\u0632-newtonsoftjson-\u0627\u0633\u062a",children:"\u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 json \u062f\u0631 \u0633\u06cc \u0634\u0627\u0631\u067e \u0628\u0647\u062a\u0631\u06cc\u0646 \u0631\u0648\u0634 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 Newtonsoft.Json \u0627\u0633\u062a"}),"\n",(0,t.jsx)(n.h2,{id:"\u0645\u0642\u062f\u0645\u0647",children:"\u0645\u0642\u062f\u0645\u0647"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Newtonsoft.Json"}),"\u200e (\u06cc\u0627 \u0647\u0645\u0627\u0646 Json.NET) \u067e\u0631\u06a9\u0627\u0631\u0628\u0631\u062f\u062a\u0631\u06cc\u0646 \u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647\u0654 \u200e\u200eJSON\u200e\u200e \u0628\u0631\u0627\u06cc \u200e\u200e.NET\u200e\u200e \u0627\u0633\u062a\u061b \u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u0628\u0633\u06cc\u0627\u0631 \u06a9\u0627\u0645\u0644\u06cc \u0628\u0631\u0627\u06cc ",(0,t.jsx)(n.strong,{children:"\u0633\u0631\u06cc\u0627\u0644\u200c\u0633\u0627\u0632\u06cc (Serialization)"})," \u0648 ",(0,t.jsx)(n.strong,{children:"\u062f\u06cc\u0633\u0631\u06cc\u0627\u0644\u200c\u0633\u0627\u0632\u06cc (Deserialization)"}),"\u060c ",(0,t.jsx)(n.strong,{children:"\u06a9\u0648\u0626\u0631\u06cc\u200c\u0646\u0648\u06cc\u0633\u06cc (LINQ to JSON)"}),"\u060c ",(0,t.jsx)(n.strong,{children:"\u067e\u06cc\u06a9\u0631\u0628\u0646\u062f\u06cc \u067e\u06cc\u0634\u0631\u0641\u062a\u0647"})," \u0648 ",(0,t.jsx)(n.strong,{children:"\u06af\u0633\u062a\u0631\u0634\u200c\u067e\u0630\u06cc\u0631\u06cc"})," (Converters\u060c ContractResolvers \u0648 \u2026) \u062f\u0631 \u0627\u062e\u062a\u06cc\u0627\u0631 \u0645\u06cc\u200c\u06af\u0630\u0627\u0631\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0631\u0627\u0647\u0646\u0645\u0627 \u062a\u0642\u0631\u06cc\u0628\u0627\u064b \u0647\u0645\u0647\u0654 \u0646\u06a9\u0627\u062a \u0645\u0647\u0645 \u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0631\u0627 \u0628\u0647\u200c\u0647\u0645\u0631\u0627\u0647 \u0645\u062b\u0627\u0644\u200c\u0647\u0627\u06cc \u0648\u0627\u0642\u0639\u06cc \u062f\u0631 \u0642\u0627\u0644\u0628\u06cc \u0633\u0627\u062e\u062a\u0627\u0631\u0645\u0646\u062f \u0645\u0631\u0648\u0631 \u0645\u06cc\u200c\u06a9\u0646\u06cc\u0645."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u0646\u0635\u0628-\u0648-\u0627\u0648\u0644\u06cc\u0646-\u0627\u0633\u062a\u0641\u0627\u062f\u0647",children:"\u0646\u0635\u0628 \u0648 \u0627\u0648\u0644\u06cc\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u062f\u0631 \u062e\u0637 \u0641\u0631\u0645\u0627\u0646\ndotnet add package Newtonsoft.Json\n# \u06cc\u0627 \u062f\u0631 Unity:\nInstall-Package Newtonsoft.Json -Version 13.0.3\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'using Newtonsoft.Json;\n\n// \u0634\u06cc\u0621 \u0646\u0645\u0648\u0646\u0647\nvar player = new { Id = 1, Name = "John", Score = 980 };\n\n// \u0633\u0631\u06cc\u0627\u0644\u200c\u0633\u0627\u0632\u06cc\nstring json = JsonConvert.SerializeObject(player, Formatting.Indented);\nConsole.WriteLine(json);\n/*\n{\n  "Id": 1,\n  "Name": "John",\n  "Score": 980\n}\n*/\n\n// \u062f\u06cc\u0633\u0631\u06cc\u0627\u0644\u200c\u0633\u0627\u0632\u06cc\nvar restored = JsonConvert.DeserializeObject<Player>(json);\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u062c\u062f\u0648\u0644-\u06a9\u0644\u06cc\u062f\u06cc\u062a\u0631\u06cc\u0646-\u06a9\u0644\u0627\u0633\u0647\u0627-\u0648-\u0645\u062a\u062f\u0647\u0627",children:"\u062c\u062f\u0648\u0644 \u06a9\u0644\u06cc\u062f\u06cc\u200c\u062a\u0631\u06cc\u0646 \u06a9\u0644\u0627\u0633\u200c\u0647\u0627 \u0648 \u0645\u062a\u062f\u0647\u0627"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u0646\u0648\u0639/\u06a9\u0644\u0627\u0633"}),(0,t.jsx)(n.th,{children:"\u0645\u062a\u062f\u0647\u0627\u06cc \u0645\u0647\u0645"}),(0,t.jsx)(n.th,{children:"\u062a\u0648\u0636\u06cc\u062d \u06a9\u0648\u062a\u0627\u0647"}),(0,t.jsx)(n.th,{children:"\u0645\u062b\u0627\u0644 \u0633\u0627\u062f\u0647"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"JsonConvert (static)"})}),(0,t.jsxs)(n.td,{children:["- ",(0,t.jsx)(n.code,{children:"SerializeObject(obj, settings?)"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"DeserializeObject<T>()"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"SerializeXmlNode(XmlNode)"})]}),(0,t.jsx)(n.td,{children:"\u0633\u0627\u062f\u0647\u200c\u062a\u0631\u06cc\u0646 \u0631\u0627\u0647 \u062a\u0628\u062f\u06cc\u0644 \u0634\u06cc\u0621/\u0631\u0634\u062a\u0647"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"JsonConvert.SerializeObject(list)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"JsonSerializer"})}),(0,t.jsxs)(n.td,{children:["- ",(0,t.jsx)(n.code,{children:"Serialize(TextWriter, obj)"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"Deserialize<T>(TextReader)"})]}),(0,t.jsx)(n.td,{children:"\u200c\u0639\u0645\u0644\u06a9\u0631\u062f\u0650 \u067e\u0627\u06cc\u06cc\u0646\u200c\u0633\u0637\u062d\u06cc \u0648 \u0642\u0627\u0628\u0644\u0650 \u062a\u0646\u0638\u06cc\u0645"}),(0,t.jsxs)(n.td,{children:["\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0628\u0627 ",(0,t.jsx)(n.code,{children:"JsonTextWriter"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"JsonSerializerSettings"})}),(0,t.jsxs)(n.td,{children:["- ",(0,t.jsx)(n.code,{children:"Formatting"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"NullValueHandling"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"ContractResolver"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"Converters"})]}),(0,t.jsx)(n.td,{children:"\u06cc\u06a9\u200c\u0628\u0627\u0631 \u0628\u0633\u0627\u0632\u06cc\u062f \u0648 \u062f\u0631 \u06a9\u0644 \u067e\u0631\u0648\u0698\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"new JsonSerializerSettings { NullValueHandling = Ignore }"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"JObject / JArray / JToken"})}),(0,t.jsxs)(n.td,{children:["- ",(0,t.jsx)(n.code,{children:"Parse(string)"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"SelectToken(path)"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"ToObject<T>()"})]}),(0,t.jsx)(n.td,{children:"\u062f\u0633\u062a\u06a9\u0627\u0631\u06cc \u200e\u200eJSON\u200e\u200e \u0628\u062f\u0648\u0646 \u0645\u062f\u0644 C# (LINQ to JSON)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'JObject.Parse(json)["name"]'})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"JsonTextReader / Writer"})}),(0,t.jsx)(n.td,{children:"- \u062c\u0631\u06cc\u0627\u0646\u200c\u0645\u062d\u0648\u0631 (Forward-only) \u0648 \u0628\u0633\u06cc\u0627\u0631 \u0633\u0631\u06cc\u0639"}),(0,t.jsx)(n.td,{children:"\u0628\u0631\u0627\u06cc \u0641\u0627\u06cc\u0644\u200c\u0647\u0627\u06cc \u062e\u06cc\u0644\u06cc \u0628\u0632\u0631\u06af"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"using var r = new JsonTextReader(sr)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"JsonConverter (abstract)"})}),(0,t.jsxs)(n.td,{children:["- ",(0,t.jsx)(n.code,{children:"WriteJson"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"ReadJson"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"CanConvert"})]}),(0,t.jsx)(n.td,{children:"\u0633\u0627\u062e\u062a \u06a9\u0627\u0646\u0648\u0631\u062a\u0631 \u0633\u0641\u0627\u0631\u0634\u06cc \u0628\u0631\u0627\u06cc \u0627\u0646\u0648\u0627\u0639 \u067e\u06cc\u0686\u06cc\u062f\u0647"}),(0,t.jsxs)(n.td,{children:["\u062a\u0628\u062f\u06cc\u0644 \u200e",(0,t.jsx)(n.code,{children:"Vector3"}),"\u200e \u06cc\u0648\u0646\u06cc\u062a\u06cc"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"ContractResolver"})}),(0,t.jsxs)(n.td,{children:["- ",(0,t.jsx)(n.code,{children:"ResolveContract"}),(0,t.jsx)("br",{}),"- ",(0,t.jsx)(n.code,{children:"CreateProperties"})]}),(0,t.jsx)(n.td,{children:"\u06a9\u0646\u062a\u0631\u0644 \u0633\u0637\u062d\u0650 \u0641\u06cc\u0644\u062f/\u067e\u0631\u0627\u067e\u0631\u062a\u06cc \u062f\u0631 \u0633\u0631\u06cc\u0627\u0644\u200c\u0633\u0627\u0632\u06cc"}),(0,t.jsx)(n.td,{children:"Mask \u06a9\u0631\u062f\u0646 \u0641\u06cc\u0644\u062f\u0647\u0627\u06cc \u062d\u0633\u0627\u0633"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"\u0648\u06cc\u0698\u06af\u06cc\u0647\u0627-\u0648-\u062a\u0646\u0638\u06cc\u0645\u0627\u062a-attributessettings",children:"\u0648\u06cc\u0698\u06af\u06cc\u200c\u0647\u0627 \u0648 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a (Attributes/Settings)"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u0648\u06cc\u0698\u06af\u06cc/\u062a\u0646\u0638\u06cc\u0645"}),(0,t.jsx)(n.th,{children:"\u06a9\u0627\u0631\u0628\u0631\u062f"}),(0,t.jsx)(n.th,{children:"\u0645\u062b\u0627\u0644"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'[JsonProperty("user_name")]'})}),(0,t.jsx)(n.td,{children:"\u062a\u063a\u06cc\u06cc\u0631 \u0646\u0627\u0645 \u06a9\u0644\u06cc\u062f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"public string UserName {get; set;}"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"[JsonIgnore]"})}),(0,t.jsx)(n.td,{children:"\u062d\u0630\u0641 \u067e\u0631\u0627\u067e\u0631\u062a\u06cc \u0627\u0632 \u062e\u0631\u0648\u062c\u06cc"}),(0,t.jsx)(n.td,{children:"\u200c \u0631\u0645\u0632\u0647\u0627 \u0648 \u062a\u0648\u06a9\u0646\u200c\u0647\u0627"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"[JsonRequired]"})}),(0,t.jsx)(n.td,{children:"\u062e\u0637\u0627 \u0627\u06af\u0631 \u0645\u0642\u062f\u0627\u0631 \u0645\u0648\u062c\u0648\u062f \u0646\u0628\u0627\u0634\u062f"}),(0,t.jsx)(n.td,{children:"\u0627\u0639\u062a\u0628\u0627\u0631\u0633\u0646\u062c\u06cc \u0648\u0631\u0648\u062f\u06cc API"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"NullValueHandling.Ignore"})}),(0,t.jsx)(n.td,{children:"\u0646\u0646\u0648\u0634\u062a\u0646 \u0645\u0642\u0627\u062f\u06cc\u0631 null"}),(0,t.jsx)(n.td,{children:"\u062d\u062c\u0645 \u06a9\u0645\u062a\u0631 JSON"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"DefaultValueHandling.Populate"})}),(0,t.jsx)(n.td,{children:"\u0642\u0631\u0627\u0631 \u062f\u0627\u062f\u0646 default \u0647\u0646\u06af\u0627\u0645 \u062f\u06cc\u0633\u0631\u06cc\u0627\u0644"}),(0,t.jsx)(n.td,{children:"\u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u0627\u0632 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0627\u0645\u0646"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ReferenceLoopHandling.Ignore"})}),(0,t.jsx)(n.td,{children:"\u062c\u0644\u0648\u06af\u06cc\u0631\u06cc \u0627\u0632 StackOverflow \u062f\u0631 \u06af\u0631\u0627\u0641\u200c\u0647\u0627\u06cc \u0634\u06cc\u0621\u0650 \u0686\u0631\u062e\u0634\u06cc"}),(0,t.jsx)(n.td,{children:"\u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0631\u062e\u062a\u06cc \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"TypeNameHandling.Auto"})}),(0,t.jsx)(n.td,{children:"\u0646\u06af\u0647\u062f\u0627\u0631\u06cc \u0646\u0648\u0639 \u0648\u0627\u0642\u0639\u06cc \u0634\u06cc\u0621"}),(0,t.jsx)(n.td,{children:"\u062f\u06cc\u0633\u0631\u06cc\u0627\u0644 \u0686\u0646\u062f\u0631\u06cc\u062e\u062a\u06cc (Polymorphic)"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u06a9\u0627\u0631-\u0628\u0627-\u0622\u0631\u0627\u06cc\u0647\u0647\u0627-\u0648-\u0644\u06cc\u0633\u062a\u0647\u0627",children:"\u06a9\u0627\u0631 \u0628\u0627 \u0622\u0631\u0627\u06cc\u0647\u200c\u0647\u0627 \u0648 \u0644\u06cc\u0633\u062a\u200c\u0647\u0627"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'string arrJson = "[1,2,3,4]";\nvar numbers = JsonConvert.DeserializeObject<List<int>>(arrJson);  // [1,2,3,4]\n\nvar playersJson = @"[\n  {""id"":1,""name"":""Ava""},\n  {""id"":2,""name"":""Ben""}\n]";\nJArray jArr = JArray.Parse(playersJson);\nforeach(var jTok in jArr) Console.WriteLine(jTok["name"]);\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"linq-to-json-jpath",children:"LINQ to JSON (JPath)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'var root = JObject.Parse(json);\n/* \u0645\u0633\u06cc\u0631 \u0645\u0634\u0627\u0628\u0647 XPath */\nvar expensive = root.SelectTokens("$..items[?(@.price > 100)]");\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u06a9\u0627\u0646\u0648\u0631\u062a\u0631-\u0633\u0641\u0627\u0631\u0634\u06cc-\u0646\u0645\u0648\u0646\u0647\u0654-\u06cc\u0648\u0646\u06cc\u062a\u06cc",children:"\u06a9\u0627\u0646\u0648\u0631\u062a\u0631 \u0633\u0641\u0627\u0631\u0634\u06cc (\u0646\u0645\u0648\u0646\u0647\u0654 \u06cc\u0648\u0646\u06cc\u062a\u06cc)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'class Vector3Converter : JsonConverter<Vector3>\n{\n    public override void WriteJson(JsonWriter w, Vector3 v, JsonSerializer s) =>\n        w.WriteValue($"{v.x},{v.y},{v.z}");\n\n    public override Vector3 ReadJson(JsonReader r, Type type, Vector3 existing, bool has, JsonSerializer s)\n    {\n        var parts = ((string)r.Value).Split(\',\');\n        return new Vector3(\n            float.Parse(parts[0]), float.Parse(parts[1]), float.Parse(parts[2]));\n    }\n}\n// \u0627\u0633\u062a\u0641\u0627\u062f\u0647\nvar settings = new JsonSerializerSettings();\nsettings.Converters.Add(new Vector3Converter());\nstring vJson = JsonConvert.SerializeObject(new Vector3(1,2,3), settings); // "1,2,3"\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u0645\u062f\u06cc\u0631\u06cc\u062a-\u062e\u0637\u0627",children:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u062e\u0637\u0627"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'var settings = new JsonSerializerSettings\n{\n    Error = (sender, args) =>\n    {\n        Console.WriteLine($"\u0645\u0634\u06a9\u0644 \u062f\u0631 \xab{args.ErrorContext.Path}\xbb: {args.ErrorContext.Error.Message}");\n        args.ErrorContext.Handled = true; // \u0627\u062f\u0627\u0645\u0647\u0654 \u067e\u0631\u062f\u0627\u0632\u0634\n    }\n};\n\nvar result = JsonConvert.DeserializeObject<MyType>(badJson, settings);\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u0628\u0647\u06cc\u0646\u0647\u0633\u0627\u0632\u06cc\u0647\u0627\u06cc-\u0633\u0631\u0639\u062a-\u0648-\u062d\u0627\u0641\u0638\u0647",children:"\u0628\u0647\u06cc\u0646\u0647\u200c\u0633\u0627\u0632\u06cc\u200c\u0647\u0627\u06cc \u0633\u0631\u0639\u062a \u0648 \u062d\u0627\u0641\u0638\u0647"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reuse Settings"})," \u2013 \u06cc\u06a9 \u0646\u0645\u0648\u0646\u0647\u0654 ",(0,t.jsx)(n.code,{children:"JsonSerializerSettings"})," \u0628\u0633\u0627\u0632\u06cc\u062f \u0648 \u0647\u0645\u0647\u200c\u062c\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Forward-only Reader/Writer"})," \u2013 \u0628\u0631\u0627\u06cc \u0641\u0627\u06cc\u0644\u200c\u0647\u0627\u06cc \u0639\u0638\u06cc\u0645\u060c \u0628\u0647\u200c\u062c\u0627\u06cc ",(0,t.jsx)(n.code,{children:"Parse"})," \u0627\u0632 ",(0,t.jsx)(n.code,{children:"JsonTextReader"})," + ",(0,t.jsx)(n.code,{children:"JsonSerializer"})," \u0628\u0647\u0631\u0647 \u0628\u06af\u06cc\u0631\u06cc\u062f."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"BufferSize"})," \u0631\u0627 \u062f\u0631 ",(0,t.jsx)(n.code,{children:"StreamWriter"})," / ",(0,t.jsx)(n.code,{children:"StreamReader"})," \u0627\u0641\u0632\u0627\u06cc\u0634 \u062f\u0647\u06cc\u062f."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Avoid JToken when possible"})," \u2013 \u0647\u0631\u0686\u0647 \u0645\u062f\u0644 C# \u0635\u0631\u06cc\u062d\u200c\u062a\u0631 \u0628\u0627\u0634\u062f\u060c \u0633\u0631\u06cc\u0639\u200c\u062a\u0631 \u0627\u0633\u062a."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"\u0645\u0642\u0627\u06cc\u0633\u0647\u0654-\u0633\u0631\u06cc\u0639-\u0628\u0627-systemtextjson",children:["\u0645\u0642\u0627\u06cc\u0633\u0647\u0654 \u0633\u0631\u06cc\u0639 \u0628\u0627 \u200e",(0,t.jsx)(n.code,{children:"System.Text.Json"}),"\u200e"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u0645\u0639\u06cc\u0627\u0631"}),(0,t.jsx)(n.th,{children:"Newtonsoft.Json"}),(0,t.jsx)(n.th,{children:"System.Text.Json (Net 8)"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u0648\u06cc\u0698\u06af\u06cc\u200c\u0647\u0627\u06cc \u067e\u06cc\u0634\u0631\u0641\u062a\u0647"}),(0,t.jsx)(n.td,{children:"\u06a9\u0627\u0645\u0644 (TypeNameHandling, JPath)"}),(0,t.jsx)(n.td,{children:"\u0645\u062d\u062f\u0648\u062f\u062a\u0631 (\u0640)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u0633\u0631\u0639\u062a \u062e\u0627\u0645"}),(0,t.jsx)(n.td,{children:"\u06a9\u0645\u06cc \u06a9\u0646\u062f\u062a\u0631 \u062f\u0631 \u0633\u0646\u0627\u0631\u06cc\u0648\u0647\u0627\u06cc \u067e\u0627\u06cc\u0647"}),(0,t.jsx)(n.td,{children:"\u0633\u0631\u06cc\u0639\u200c\u062a\u0631 (Native)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc Unity \u200e(IL2CPP)\u200e"}),(0,t.jsx)(n.td,{children:"\u0628\u0644\u0647 (\u0628\u062f\u0648\u0646 AOT issues)"}),(0,t.jsxs)(n.td,{children:["\u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0646\u06cc\u0627\u0632 \u0628\u0647 ",(0,t.jsx)(n.code,{children:"JsonSourceGen"})," \u0648 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a AOT \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u0627\u06a9\u0648\u0633\u06cc\u0633\u062a\u0645 \u0648 \u0645\u0633\u062a\u0646\u062f\u0627\u062a"}),(0,t.jsx)(n.td,{children:"\u06af\u0633\u062a\u0631\u062f\u0647\u060c \u0622\u0645\u0648\u0632\u0634\u200c\u0647\u0627\u06cc \u0632\u06cc\u0627\u062f"}),(0,t.jsx)(n.td,{children:"\u062f\u0631 \u062d\u0627\u0644 \u0631\u0634\u062f"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u062d\u062c\u0645 \u0628\u0633\u062a\u0647"}),(0,t.jsx)(n.td,{children:"~600 KB DLL"}),(0,t.jsx)(n.td,{children:"\u0628\u062e\u0634\u06cc \u0627\u0632 \u200e.NET\u200e (\u0628\u062f\u0648\u0646 DLL \u0627\u0636\u0627\u0641\u06cc)"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\u062c\u0645\u0639\u0628\u0646\u062f\u06cc",children:"\u062c\u0645\u0639\u200c\u0628\u0646\u062f\u06cc"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u0628\u0631\u0627\u06cc ",(0,t.jsx)(n.strong,{children:"\u067e\u0631\u0648\u0698\u0647\u200c\u0647\u0627\u06cc Unity"})," \u06a9\u0647 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u200eIL2CPP\u200e\u060c ",(0,t.jsx)(n.strong,{children:"\u0627\u0646\u0639\u0637\u0627\u0641 \u062d\u062f\u0627\u06a9\u062b\u0631\u06cc"})," \u0648 ",(0,t.jsx)(n.strong,{children:"LINQ to JSON"})," \u062f\u0627\u0631\u0646\u062f\u060c ",(0,t.jsx)(n.strong,{children:"Newtonsoft.Json"})," \u0647\u0645\u0686\u0646\u0627\u0646 \u06af\u0632\u06cc\u0646\u0647\u0654 \u0634\u0645\u0627\u0631\u0647\u0654 \u06cc\u06a9 \u0627\u0633\u062a."]}),"\n",(0,t.jsxs)(n.li,{children:["\u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647\u0654 \u0647\u0648\u0634\u0645\u0646\u062f\u0627\u0646\u0647 \u0627\u0632 ",(0,t.jsx)(n.strong,{children:"Settings"}),"\u060c ",(0,t.jsx)(n.strong,{children:"Converters"})," \u0648 ",(0,t.jsx)(n.strong,{children:"Reader/Writer"})," \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u0647\u0645 \u062e\u0648\u0627\u0646\u0627\u06cc\u06cc \u06a9\u062f \u0648 \u0647\u0645 \u0639\u0645\u0644\u06a9\u0631\u062f \u0631\u0627 \u0628\u0647\u06cc\u0646\u0647 \u06a9\u0646\u06cc\u062f."]}),"\n",(0,t.jsxs)(n.li,{children:["\u062f\u0631 \u067e\u0631\u0648\u0698\u0647\u200c\u0647\u0627\u06cc \u0628\u0633\u06cc\u0627\u0631 Performance-critical \u06cc\u0627 \u0633\u0627\u06cc\u0632 \u0628\u0627\u06cc\u0646\u0631\u06cc \u06a9\u0648\u0686\u06a9\u060c \u06af\u0632\u06cc\u0646\u0647\u200c\u0647\u0627\u06cc \u062f\u06cc\u06af\u0631\u06cc \u0645\u062b\u0644 \u200e",(0,t.jsx)(n.code,{children:"System.Text.Json"}),"\u200e \u06cc\u0627 even ",(0,t.jsx)(n.strong,{children:"MessagePack"})," \u0631\u0627 \u0646\u06cc\u0632 \u0628\u0633\u0646\u062c\u06cc\u062f."]}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var r=s(6540);const t={},d=r.createContext(t);function i(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);